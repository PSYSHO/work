<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" >

<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css" rel="stylesheet"
          crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>CRM</title>
</head>
<body ng-app="app"ng-controller="CustomerCtrl" c>
<meta http-equiv="Refresh" content="15" />
<ul class="nav navbar navbar-dark bg-dark nav-tabs">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="/">Main Page</a>
        </div>
        <div><form action="/logout" method="post" >
            <input type="hidden" name="_csrf" value="{{_csrf.token}}" />
            <input type="submit" value="Sign Out" class="btn btn-secondary"/>
        </form></div>   
    </div>
</ul>

<div class="container">
    <div>
        <table>
            <tr>
                <td width="100">ID:</td>
                <td><input type="text" id="id" ng-model="customer.id" /></td>
            </tr>
            <tr>
                <td width="100">FirstName:</td>
                <td><input type="text" id="firstName" ng-model="customer.firstName" /></td>
            </tr>
            <tr>
                <td width="100">LastName:</td>
                <td><input type="text" id="lastName" ng-model="customer.lastName" /></td>
            </tr>
            <tr>
                <td width="100">Email:</td>
                <td><input type="text" id="emailAddress" ng-model="customer.emailAddress" /></td>
            </tr>
            <tr>
                <td width="100">Address:</td>
                <td><input type="text" id="address" ng-model="customer.address" /></td>
            </tr>
            <tr>
            <tr>
                <td width="100">Country:</td>
                <td><input type="text" id="country" ng-model="customer.country" /></td>
            </tr>
            <tr>
                <td width="100">Phone:</td>
                <td><input type="text" id="phoneNumber" ng-model="customer.phoneNumber" /></td>
            </tr>
            <tr>
                <td width="100">Comment:</td>
                <td><input type="text" id="comment" ng-model="customer.comment" /></td>
            </tr>
        </table>
        <br /> <br />
        <a class="btn btn btn-outline-secondary btn-light" ng-click="getCustomer(customer.id)" >Get Customer</a>
        <a class="btn btn btn-outline-secondary btn-light" ng-click="updateCustomer(customer.id,customer.firstName,customer.lastName,customer.emailAddress,customer.address,customer.country,customer.phoneNumber,customer.comment)">Update Customer</a>
        <a class="btn btn-outline-secondary btn-light" ng-click="addCustomer(customer.firstName,customer.lastName,customer.emailAddress,customer.address,customer.country,customer.phoneNumber,customer.comment)">Add Customer</a>
        <a class="btn btn-danger btn-outline-danger d-block d-sm-inline-block" ng-click="deleteCustomer(customer.id)">Delete Customer</a>
        <br /> <br />
        <p style="color: green">{{message}}</p>
        <p style="color: red">{{errorMessage}}</p>
    </div>
</div>
<div class="container mt-5" >
    <table class="table table-striped table-bordered" style="width:100%">
        <thead class="thead">
        <tr>
            <th scope="col">Id</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>City</th>
            <th>Country</th>
            <th>Phone</th>
            <th>Comment</th>
        </tr>
        </thead>
        <tbody class="table-bordered">
        <tr ng-repeat="customer  in customers">
            <td>{{customer.id}}</td>
            <td>{{customer.firstName}}</td>
            <td>{{customer.lastName}}</td>
            <td>{{customer.emailAddress}}</td>
            <td>{{customer.city}}</td>
            <td>{{customer.country}}</td>
            <td>{{customer.phoneNumber}}</td>
            <td>{{customer.comment}}</td>

        </tr>
        </tbody>
    </table>
</div>
</body>
<script type="text/javascript" src="js/angular.js"></script>
<script type="text/javascript" src="js/components/customer/customer.js"></script>
</html>